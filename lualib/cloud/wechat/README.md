## 微信支付Lua SDK接口


## 接口列表

  1. order 查询订单状态、关闭订单

  2. native/micro/h5 扫码支付、付款码支付、H5支付等等接口

  3. banks 银行卡对应表中文

  4. sign 签名与验证(外部一般无需使用)

## 推荐的使用流程

  1. 客户端调用服务端接口完成支付下单流程, 服务端使用上述接口列表提供的方法完成下单流程并且返回prepay_id给客户端.

  2. 客户端正确得到prepay_id后引导用户完成下单操作, 服务端根据order实现的2个接口实现订单支付查询与关闭订单的交互接口

  3. 客户端如遇用户取消支付则应该调用服务端的关闭订单接口完成订单关闭, 遇到用户支付成功则需要主动调用查询是否支付成功.

  4. 根据实际情况完成后续业务.

## 注意

  1. trade_no必须唯一(无论是否支付成功或关闭订单).

  2. 付款码支付需要客户端传入openid.

  3. 目前尚不支持退款接口.